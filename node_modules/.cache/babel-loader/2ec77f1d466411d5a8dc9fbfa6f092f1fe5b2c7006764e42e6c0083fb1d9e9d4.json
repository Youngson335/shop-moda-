{"ast":null,"code":"import ModalName from \"./ModalName.vue\";\nexport default {\n  components: {\n    ModalName\n  },\n  data() {\n    return {\n      isHighlighted: false,\n      addFilter: false,\n      criterions: [{\n        id: 1,\n        name: \"Скидка\"\n      }, {\n        id: 2,\n        name: \"Сначала дешевые\"\n      }, {\n        id: 3,\n        name: \"Сначала дорогие\"\n      }, {\n        id: 4,\n        name: \"Сначала трендовые\"\n      }],\n      criterionName: null,\n      addedCriterion: null,\n      filterProductsName: [],\n      addedName: \"\"\n    };\n  },\n  props: {\n    parentFilteredProducts: {\n      type: Array\n    }\n  },\n  computed: {\n    filteredProductsCriterions() {\n      let criterion = this.addedCriterion;\n      if (criterion === 1) {\n        return this.parentFilteredProducts.filter(product => product.discount === true);\n      } else if (criterion === 2) {\n        return this.parentFilteredProducts.sort((a, b) => a.price - b.price);\n      } else if (criterion === 3) {\n        return this.parentFilteredProducts.sort((a, b) => b.price - a.price);\n      } else if (criterion === 4) {\n        return this.parentFilteredProducts.filter(products => products.trend === true);\n      } else {\n        return [];\n      }\n    },\n    filteredName() {\n      let addName = this.addedName;\n      if (addName != null) {\n        return this.parentFilteredProducts.filter(products => products.name === addName);\n      } else {\n        return [];\n      }\n    }\n  },\n  methods: {\n    toggleClass() {\n      this.isHighlighted = !this.isHighlighted;\n    },\n    showBlock() {\n      if (this.isHighlighted) {\n        const ul = document.querySelector(\".sort__criterion\");\n        ul.style.height = \"30px\";\n      }\n    },\n    addFilters(name, id) {\n      this.addFilter = !this.addFilter;\n      this.criterionName = name;\n      this.addedCriterion = id;\n    },\n    removeFilters() {\n      this.addedCriterion = null;\n      this.criterionName = null;\n      this.addFilter = !this.addFilter;\n    },\n    sendFilteredProducts() {\n      this.$emit(\"filtered-products-name\", this.filteredName);\n      this.$emit(\"filtered-products-discount\", this.filteredProductsCriterions);\n    },\n    filteredProductsName(products) {\n      this.addedName = products;\n    }\n  },\n  watch: {\n    filteredProductsCriterions() {\n      this.sendFilteredProducts();\n    },\n    filteredName() {\n      this.sendFilteredProducts();\n    }\n  },\n  mounted() {\n    this.sendFilteredProducts();\n  }\n};","map":{"version":3,"names":["ModalName","components","data","isHighlighted","addFilter","criterions","id","name","criterionName","addedCriterion","filterProductsName","addedName","props","parentFilteredProducts","type","Array","computed","filteredProductsCriterions","criterion","filter","product","discount","sort","a","b","price","products","trend","filteredName","addName","methods","toggleClass","showBlock","ul","document","querySelector","style","height","addFilters","removeFilters","sendFilteredProducts","$emit","filteredProductsName","watch","mounted"],"sources":["/Users/vladislav/Desktop/work/moda-project/src/UI/SortFilter.vue"],"sourcesContent":["<template>\n  <div class=\"sort\">\n    <div class=\"sort__button\">\n      <div @click=\"toggleClass\">\n        <p :class=\"{ highlighted: isHighlighted }\" class=\"sort__button-btn\">\n          Сортировать\n        </p>\n        <div>\n          <transition name=\"fade\" @after-enter=\"showBlock\">\n            <ul v-show=\"isHighlighted\" class=\"sort__criterion\">\n              <li\n                v-for=\"criterion in criterions\"\n                :key=\"criterion.id\"\n                @click=\"addFilters(criterion.name, criterion.id)\"\n              >\n                {{ criterion.name }}\n              </li>\n            </ul>\n          </transition>\n        </div>\n      </div>\n    </div>\n    <div v-show=\"addFilter\" class=\"add__criterion\">\n      {{ criterionName }}\n      <img\n        @click=\"removeFilters\"\n        class=\"add__criterion-img\"\n        src=\"../images/icons/remove_filter-icon.png\"\n        alt=\"\"\n      />\n    </div>\n    <ModalName\n      :parentFilteredProducts.sync=\"parentFilteredProducts\"\n      @filtered-products-name=\"filteredProductsName\"\n      :addedName=\"addedName\"\n    />\n  </div>\n</template>\n\n<script>\nimport ModalName from \"./ModalName.vue\";\nexport default {\n  components: {\n    ModalName,\n  },\n  data() {\n    return {\n      isHighlighted: false,\n      addFilter: false,\n      criterions: [\n        { id: 1, name: \"Скидка\" },\n        { id: 2, name: \"Сначала дешевые\" },\n        { id: 3, name: \"Сначала дорогие\" },\n        { id: 4, name: \"Сначала трендовые\" },\n      ],\n      criterionName: null,\n      addedCriterion: null,\n      filterProductsName: [],\n      addedName: \"\",\n    };\n  },\n  props: {\n    parentFilteredProducts: {\n      type: Array,\n    },\n  },\n  computed: {\n    filteredProductsCriterions() {\n      let criterion = this.addedCriterion;\n      if (criterion === 1) {\n        return this.parentFilteredProducts.filter(\n          (product) => product.discount === true\n        );\n      } else if (criterion === 2) {\n        return this.parentFilteredProducts.sort((a, b) => a.price - b.price);\n      } else if (criterion === 3) {\n        return this.parentFilteredProducts.sort((a, b) => b.price - a.price);\n      } else if (criterion === 4) {\n        return this.parentFilteredProducts.filter(\n          (products) => products.trend === true\n        );\n      } else {\n        return [];\n      }\n    },\n    filteredName() {\n      let addName = this.addedName;\n      if (addName != null) {\n        return this.parentFilteredProducts.filter(\n          (products) => products.name === addName\n        );\n      } else {\n        return [];\n      }\n    },\n  },\n  methods: {\n    toggleClass() {\n      this.isHighlighted = !this.isHighlighted;\n    },\n    showBlock() {\n      if (this.isHighlighted) {\n        const ul = document.querySelector(\".sort__criterion\");\n        ul.style.height = \"30px\";\n      }\n    },\n    addFilters(name, id) {\n      this.addFilter = !this.addFilter;\n      this.criterionName = name;\n      this.addedCriterion = id;\n    },\n    removeFilters() {\n      this.addedCriterion = null;\n      this.criterionName = null;\n      this.addFilter = !this.addFilter;\n    },\n    sendFilteredProducts() {\n      this.$emit(\"filtered-products-name\", this.filteredName);\n      this.$emit(\"filtered-products-discount\", this.filteredProductsCriterions);\n    },\n    filteredProductsName(products) {\n      this.addedName = products;\n    },\n  },\n  watch: {\n    filteredProductsCriterions() {\n      this.sendFilteredProducts();\n    },\n    filteredName() {\n      this.sendFilteredProducts();\n    },\n  },\n  mounted() {\n    this.sendFilteredProducts();\n  },\n};\n</script>\n\n<style scoped>\nli {\n  list-style-type: none;\n  color: white;\n  user-select: none;\n  cursor: pointer;\n  transition: all 0.1s;\n  padding: 0 20px;\n}\nli:hover {\n  color: green;\n  transition: all 0.1s;\n}\nul {\n  display: none;\n}\np {\n  user-select: none;\n}\n.sort {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: calc(100% - 100px);\n  margin: 20px auto 0 auto;\n}\n.add__criterion {\n  font-size: 17px;\n  left: 200px;\n  position: absolute;\n  animation: showBlock 0.5s;\n}\n@keyframes showBlock {\n  0% {\n    transform: translateX(-15%);\n  }\n  20% {\n    transform: translateX(15%);\n  }\n  40% {\n    transform: translateX(-10%);\n  }\n  60% {\n    transform: translateX(10%);\n  }\n  80% {\n    transform: translateX(-5%);\n  }\n  100% {\n    transform: translateX(0%);\n  }\n}\n.add__criterion-img {\n  width: 10px;\n  margin-left: 5px;\n  cursor: pointer;\n}\n\n.sort__button-btn {\n  border: none;\n  background-color: rgb(238, 235, 235);\n  color: black;\n  padding: 6px;\n  border-radius: 10px;\n  background-image: url(../images/icons/searchSortRight-icon.png);\n  background-size: 7px;\n  background-repeat: no-repeat;\n  background-position: 110px 50%;\n  padding-right: 30px;\n  cursor: pointer;\n  transition: all 0.1s;\n  box-shadow: 0 0 20px rgba(49, 49, 49, 0.5);\n  font-family: Raleway-Bold;\n}\n.highlighted {\n  background-image: url(../images/icons/searchSortBottom-icon.png) !important;\n  background-size: 15px;\n  background-repeat: no-repeat;\n  background-position: 105px 50%;\n  transition: all 0.1s;\n}\n.sort__button {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  flex-direction: column;\n  font-size: 15px;\n}\n.sort__criterion {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 15px;\n  width: calc(100% - 126px);\n  padding-inline-start: 0px;\n  padding: 0 10px;\n  color: black;\n  line-height: 30px;\n  transition: all 0.5s;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.688);\n  z-index: 100;\n  border-radius: 10px;\n  overflow: hidden;\n}\n.fade-enter-active {\n  animation: showCriterion 0.5s;\n}\n.fade-leave-active {\n  animation: hiddenCriterion 0.5s;\n}\n@keyframes showCriterion {\n  0% {\n    height: 0;\n  }\n  100% {\n    height: 30px;\n  }\n}\n@keyframes hiddenCriterion {\n  0% {\n    height: 30px;\n  }\n  100% {\n    height: 0;\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
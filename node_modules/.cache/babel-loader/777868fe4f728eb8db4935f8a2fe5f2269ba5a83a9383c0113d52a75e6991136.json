{"ast":null,"code":"import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../images/icons/remove_filter-icon.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-93622cb0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"sort\"\n};\nconst _hoisted_2 = {\n  class: \"sort__button\"\n};\nconst _hoisted_3 = {\n  class: \"sort__criterion\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  class: \"add__criterion\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ModalName = _resolveComponent(\"ModalName\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleClass && $options.toggleClass(...args))\n  }, [_createElementVNode(\"p\", {\n    class: _normalizeClass([{\n      highlighted: $data.isHighlighted\n    }, \"sort__button-btn\"])\n  }, \" Сортировать \", 2 /* CLASS */), _createElementVNode(\"div\", null, [_createVNode(_Transition, {\n    name: \"fade\",\n    onAfterEnter: $options.showBlock,\n    persisted: \"\"\n  }, {\n    default: _withCtx(() => [_withDirectives(_createElementVNode(\"ul\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.criterions, criterion => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: criterion.id,\n        onClick: $event => $options.addFilters(criterion.name, criterion.id)\n      }, _toDisplayString(criterion.name), 9 /* TEXT, PROPS */, _hoisted_4);\n    }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vShow, $data.isHighlighted]])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onAfterEnter\"])])])]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.parentFilteredProducts, product => {\n    return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createTextVNode(_toDisplayString($data.criterionName) + \" \", 1 /* TEXT */), _createElementVNode(\"img\", {\n      onClick: _cache[1] || (_cache[1] = (...args) => $options.removeFilters && $options.removeFilters(...args)),\n      class: \"add__criterion-img\",\n      src: _imports_0,\n      alt: \"\"\n    })], 512 /* NEED_PATCH */)), [[_vShow, $data.addFilter]]);\n  }), 256 /* UNKEYED_FRAGMENT */)), _createVNode(_component_ModalName)]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","toggleClass","_normalizeClass","highlighted","$data","isHighlighted","_createVNode","_Transition","name","onAfterEnter","showBlock","persisted","default","_withCtx","_hoisted_3","_Fragment","_renderList","criterions","criterion","key","id","$event","addFilters","_hoisted_4","_","$props","parentFilteredProducts","product","_hoisted_5","_createTextVNode","_toDisplayString","criterionName","removeFilters","src","alt","addFilter","_component_ModalName"],"sources":["/Users/vladislav/Desktop/work/moda-project/src/UI/SortFilter.vue"],"sourcesContent":["<template>\n  <div class=\"sort\">\n    <div class=\"sort__button\">\n      <div @click=\"toggleClass\">\n        <p :class=\"{ highlighted: isHighlighted }\" class=\"sort__button-btn\">\n          Сортировать\n        </p>\n        <div>\n          <transition name=\"fade\" @after-enter=\"showBlock\">\n            <ul v-show=\"isHighlighted\" class=\"sort__criterion\">\n              <li\n                v-for=\"criterion in criterions\"\n                :key=\"criterion.id\"\n                @click=\"addFilters(criterion.name, criterion.id)\"\n              >\n                {{ criterion.name }}\n              </li>\n            </ul>\n          </transition>\n        </div>\n      </div>\n    </div>\n    <div\n      v-for=\"product in parentFilteredProducts\"\n      v-show=\"addFilter\"\n      class=\"add__criterion\"\n    >\n      {{ criterionName }}\n      <img\n        @click=\"removeFilters\"\n        class=\"add__criterion-img\"\n        src=\"../images/icons/remove_filter-icon.png\"\n        alt=\"\"\n      />\n    </div>\n    <ModalName />\n  </div>\n</template>\n\n<script>\nimport ModalName from \"./ModalName.vue\";\nexport default {\n  components: {\n    ModalName,\n  },\n  data() {\n    return {\n      isHighlighted: false,\n      addFilter: false,\n      criterions: [\n        { id: 1, name: \"Скидка\" },\n        { id: 2, name: \"Сначала дешевые\" },\n        { id: 3, name: \"Сначала дорогие\" },\n        { id: 4, name: \"Сначала трендовые\" },\n      ],\n      criterionName: null,\n      addedCriterion: null,\n    };\n  },\n  props: {\n    parentFilteredProducts: {\n      type: Array,\n    },\n  },\n  computed: {\n    filteredProductsDiscount() {\n      let discountId = this.addedCriterion;\n      if (discountId === 1) {\n        return this.parentFilteredProducts.filter(\n          (product) => product.discount === true\n        );\n      } else {\n        return false;\n      }\n    },\n  },\n  methods: {\n    toggleClass() {\n      this.isHighlighted = !this.isHighlighted;\n    },\n    showBlock() {\n      if (this.isHighlighted) {\n        const ul = document.querySelector(\".sort__criterion\");\n        ul.style.height = \"30px\";\n      }\n    },\n    addFilters(name, id) {\n      this.addFilter = !this.addFilter;\n      this.criterionName = name;\n      this.addedCriterion = id;\n    },\n    removeFilters() {\n      this.addFilter = !this.addFilter;\n    },\n    sendFilteredProducts() {\n      this.$emit(\"filtered-products-discount\", this.filteredProducts);\n    },\n  },\n  watch: {\n    filteredProducts() {\n      this.sendFilteredProducts();\n    },\n  },\n  // mounted() {\n  //   this.sendFilteredProducts();\n  // },\n};\n</script>\n\n<style scoped>\nli {\n  list-style-type: none;\n  color: white;\n  user-select: none;\n  cursor: pointer;\n  transition: all 0.1s;\n  padding: 0 20px;\n}\nli:hover {\n  color: green;\n  transition: all 0.1s;\n}\nul {\n  display: none;\n}\np {\n  user-select: none;\n}\n.sort {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: calc(100% - 100px);\n  margin: 20px auto 0 auto;\n}\n.add__criterion {\n  font-size: 17px;\n  left: 200px;\n  position: absolute;\n  animation: showBlock 0.5s;\n}\n@keyframes showBlock {\n  0% {\n    transform: translateX(-15%);\n  }\n  20% {\n    transform: translateX(15%);\n  }\n  40% {\n    transform: translateX(-10%);\n  }\n  60% {\n    transform: translateX(10%);\n  }\n  80% {\n    transform: translateX(-5%);\n  }\n  100% {\n    transform: translateX(0%);\n  }\n}\n.add__criterion-img {\n  width: 10px;\n  margin-left: 5px;\n  cursor: pointer;\n}\n\n.sort__button-btn {\n  border: none;\n  background-color: rgb(238, 235, 235);\n  color: black;\n  padding: 6px;\n  border-radius: 10px;\n  background-image: url(../images/icons/searchSortRight-icon.png);\n  background-size: 7px;\n  background-repeat: no-repeat;\n  background-position: 110px 50%;\n  padding-right: 30px;\n  cursor: pointer;\n  transition: all 0.1s;\n  box-shadow: 0 0 20px rgba(49, 49, 49, 0.5);\n  font-family: Raleway-Bold;\n}\n.highlighted {\n  background-image: url(../images/icons/searchSortBottom-icon.png) !important;\n  background-size: 15px;\n  background-repeat: no-repeat;\n  background-position: 105px 50%;\n  transition: all 0.1s;\n}\n.sort__button {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  flex-direction: column;\n  font-size: 15px;\n}\n.sort__criterion {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 15px;\n  width: calc(100% - 126px);\n  padding-inline-start: 0px;\n  padding: 0 10px;\n  color: black;\n  line-height: 30px;\n  transition: all 0.5s;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.688);\n  z-index: 100;\n  border-radius: 10px;\n  overflow: hidden;\n}\n.fade-enter-active {\n  animation: showCriterion 0.5s;\n}\n.fade-leave-active {\n  animation: hiddenCriterion 0.5s;\n}\n@keyframes showCriterion {\n  0% {\n    height: 0;\n  }\n  100% {\n    height: 30px;\n  }\n}\n@keyframes hiddenCriterion {\n  0% {\n    height: 30px;\n  }\n  100% {\n    height: 0;\n  }\n}\n</style>\n"],"mappings":";OA+BQA,UAA4C;;;EA9B7CC,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAc;;EAOUA,KAAK,EAAC;AAAiB;mBAT9D;;EAyBMA,KAAK,EAAC;AAAgB;;;uBAxB1BC,mBAAA,CAmCM,OAnCNC,UAmCM,GAlCJC,mBAAA,CAmBM,OAnBNC,UAmBM,GAlBJD,mBAAA,CAiBM;IAjBAE,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;MACtBJ,mBAAA,CAEI;IAFAH,KAAK,EAJjBU,eAAA;MAAAC,WAAA,EAIkCC,KAAA,CAAAC;IAAa,GAAU,kBAAkB;KAAC,eAEpE,kBACAV,mBAAA,CAYM,cAXJW,YAAA,CAUaC,WAAA;IAVDC,IAAI,EAAC,MAAM;IAAEC,YAAW,EAAET,QAAA,CAAAU,SAAS;IAA/CC,SAUa,EAVb;;IARVC,OAAA,EAAAC,QAAA,CASY,MAQK,C,gBARLlB,mBAAA,CAQK,MARLmB,UAQK,I,kBAPHrB,mBAAA,CAMKsB,SAAA,QAhBnBC,WAAA,CAWoCZ,KAAA,CAAAa,UAAU,EAAvBC,SAAS;2BADlBzB,mBAAA,CAMK;QAJF0B,GAAG,EAAED,SAAS,CAACE,EAAE;QACjBvB,OAAK,EAAAwB,MAAA,IAAErB,QAAA,CAAAsB,UAAU,CAACJ,SAAS,CAACV,IAAI,EAAEU,SAAS,CAACE,EAAE;0BAE5CF,SAAS,CAACV,IAAI,wBAfjCe,UAAA;sEASwBnB,KAAA,CAAAC,aAAa,E;IATrCmB,CAAA;gEAsBI/B,mBAAA,CAYMsB,SAAA,QAlCVC,WAAA,CAuBwBS,MAAA,CAAAC,sBAAsB,EAAjCC,OAAO;0CADhBlC,mBAAA,CAYM,OAZNmC,UAYM,GAlCVC,gBAAA,CAAAC,gBAAA,CA2BS1B,KAAA,CAAA2B,aAAa,IAAG,GACnB,iBAAApC,mBAAA,CAKE;MAJCE,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAgC,aAAA,IAAAhC,QAAA,CAAAgC,aAAA,IAAAjC,IAAA,CAAa;MACrBP,KAAK,EAAC,oBAAoB;MAC1ByC,GAA4C,EAA5C1C,UAA4C;MAC5C2C,GAAG,EAAC;2CARE9B,KAAA,CAAA+B,SAAS,E;oCAWnB7B,YAAA,CAAa8B,oBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}